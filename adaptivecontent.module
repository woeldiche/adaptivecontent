<?php

function adaptivecontent_permission() {
  return array(
    'administer adaptivecontent' => array(
      'title' => t('Administer Adaptive Content'),
    )
  );
}

function adaptivecontent_menu() {
  $items = array();
  
  $items['admin/config/content/adaptivecontent'] = array(
    'title' => 'Adaptive Content',
    'description' => t('Adaptive Content settings.'),
    'page callback' => 'drupal_get_form',
    'page arguments' => array('adaptivecontent_setting_form'),
    'access arguments' => array('administer adaptivecontent'),
    'file' => 'adaptivecontent.setting.inc',
    'file path' => drupal_get_path('module', 'adaptivecontent') . '/includes',
    'type' => MENU_NORMAL_ITEM,
  );
  
  $items['admin/config/content/adaptivecontent/presets'] = array(
    'title' => 'Presets',
    'description' => t('Presets.'),
    'page callback' => 'drupal_get_form',
    'page arguments' => array('adaptivecontent_preset_form'),
    'access arguments' => array('administer adaptivecontent'),
    'file' => 'adaptivecontent.preset.inc',
    'file path' => drupal_get_path('module', 'adaptivecontent') . '/includes',
    'type' => MENU_DEFAULT_LOCAL_TASK,
  );

  
  $themes_info = list_themes();
  $themes = array();
  foreach ($themes_info as $key => $theme) {
    $items['admin/config/content/adaptivecontent/presets/' . $key] = array(
      'title' => $theme->name,
      'type' => MENU_LOCAL_TASK,
      'description' => t('Presets for %theme theme.', array('%theme' => $theme->name)),
      'page callback' => 'drupal_get_form',
      'page arguments' => array('adaptivecontent_theme_preset_form'),
      'access arguments' => array('administer adaptivecontent'),
      'page arguments' => array(5),
      'file' => 'adaptivecontent.preset.inc',
      'file path' => drupal_get_path('module', 'adaptivecontent') . '/includes',
    );
  }
  
  $items['admin/config/content/adaptivecontent/settings'] = array(
    'title' => 'Settings',
    'description' => t('Adaptive Content settings.'),
    'access arguments' => array('administer adaptivecontent'),
    'type' => MENU_LOCAL_TASK,
  );
  
  return $items;
}